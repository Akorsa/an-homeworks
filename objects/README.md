# Домашнее задание к лекции 1.4	Типы данных в Java: объекты

## Задача № 1

И мы продолжаем улучшать наш Task Manager для нашей любимой команды!

Нужно помочь менеджеру не ошибится при вводе времени на выполнение задачи. При добавлении задачи менеджер Иван вводит следующий текст: Добавить картинку на главный экран приветствия, задача начинается в 15 и заканчивается в 19 (минуты учитывать пока не будем). Нужно найти в этом тексте время (часы) после выражения "начинается в" и "заканчивается в" рассчитать разницу между ними, если результат вычисления будет отрицательным прерываем выполнение программы выбрасывая Exception. 

### Процесс реализации
1. Для начала нужно считать данные для разбора.
  - Объявним в методе `main` ссылку на новый объект `Scanner scanner = new Scanner(System.in)` (где System.in - это стандартный поток ввода в нашем случае console).
  - Для того чтобы прочитать значения нужно вызвать у объекта `scanner.next()`, сохраним его в переменную, которую назовем `input`
    ```
      public static void main(String[] args) throws Exception {
        Scanner scanner = new Scanner(System.in);
        String input = scanner.next();
        //TODO
    }
    ```
2. Находим время начала задачи, для этого в веденной пользователем строке нужно определить позицию начала выражения `начинается в` для определения вхождения нам поможет метод `indexOf`
  - Определение позиции начала подстроки
    ```
    int startPos = input.indexOf("начинается в");
    ```
  - Находим числа после этого выражения для этого используем метод класса String - substring(int beginIndex, int endIndex), он принимает на вход начальную позицию и конечную для извлечения подстроки. Начальной позицией будет последний символ выражения "начинается в", а конечнный beginIndex + 3 символа (количество возможных символов часов с пробелами). 
    ```
    String startTimeInString = input.substring(startPos + 12, startPos + 15);
    ```
  - Получаем строку `startTimeInString` в которой возможны пробелы, для удаления начальных и конечных пробелов в Java у класса строк реализован метод trim.
    ```
    String startTimeInString = startTimeInString.trim();
    ```
  - Послдений шаг для нахождения часов, преобразовать их в числовой тип, например int. Возпользуемся методом Integer.parse, который принмимает на вход число в виде строки и возвращает int.
    ```
    int startTime = Integer.parse(startTimeInString);
    ```
3. На этом шаге нам нужно найти число `endTime`, для этого нужно повторить операции над `input` (все как в пункте 2), только искать время после подстроки "заканчивается в"
4. Рассчитываем количество часов на выполнение задачи - вычитаем из `endTime` `startTime` и если результат вычисления меньше нуля выбрасываем `Exception`
    ```
    int result = endTime - startTime;
    if (result < 0) {
        throw new Exception("Error input string" + input);
    }
    ``` 
5. Выведем полученный результат в консоль, `System.out.println("На задачу потребуется: " + result + " ч.");`
6. Done! 

## Задача № 2

Продолжаем искать проблемы в пользовательском вводе данных, лишние пробелы давно не дают покоя программистам, они касаются всех и разработчиков для Android, Backend и даже программистов занимающихся BigData/ML. Нам нужно научиться удалять в любом тексте лишние пробелы (там где их больше чем один, за исключением начала и конца текста, и там где их вообще не дожно быть).

Наша задача: написать функцию (метод), которая будет принимать на вход строку, введенную пользователем, и возвращать обработанную строку без лишних пробелов. Результат выполнения нужно вывести в консоль.

### Процесс реализации
Для того чтобы удалить лишние пробелы в языке Java у строк есть метод `trim`, который удаляет пробелы в начале и в конце строки, но что же нам делать если мы встретим лишние пробелы внутри, есть как всегда несколько способов, например, разделить весть текст на слова, удалить пробелы и соединиться обратно. 
Но можно сделать более "элегантно", для этого используется метод объекта строк `replaceAll`, который найдет и перезапишет все пробелы на один.

1. Создаем объект `Scanner scanner = new Scanner(System.in)` в методе `main` и сохраняем введеные данные (метод `next`) в перкменную `input`.
2. Составляем regex для поиска всех пробелов `s` добавляем к нему `+` (что значит неограниченное множество), получаем `s+` (можно тут ознакомиться https://tproger.ru/articles/regexp-for-beginners/).
3. Выполняем у строки `input.trim()` так мы удалим ненужные пробелы в начале строки и в конце, сохраняем в переменную `inputTrimmed`.
4. Теперь выполняем `inputTrimmed.replaceAll` первым параметром передаем наш `regex`, а вторым говорим на что заменить = `" "` (пробел) сохраняем полученную строку в перменную `result`.
5. Выводим значение перменной `result` на экран!
6. Готово.
7. Дополниельно можно вынести такую обработку строк в отдельный `static` метод и назвать `extraTrim`. 

## Задача № 3

Поговорим о математике, чем старше мы становились тем сложней формулы нам приходилось и приходится использовать, задача иногда встречается на собеседованиях, звучит она так: На вход методу приходит формула, нужно ее разобрать и проверть все ли открытые скобки в ней закрыты, нет ли такого что какая-нибудь из закрытых или открытых скобок находится не на своем месте (например 5*)(3+5())), если это не так нужно вернуть false, иначе true.

### Процесс реализации

Задача на первый взгляд нетривиальна, давайте разбираться. С начала нужно продумать алгоритм, прежде чем приступать к реализации. Советую вам прежде попробовать решить задачу на бумаге. 
Решить можно следующим образом: считываем каждый символ и, если это открывающая скобка, то увеличиваем специально отведенную для этого переменную (назовем ее "счетчик"), если встречается закрывающая скобка — уменьшаем переменную. 
Формула будет верная если после обхода всей строки наш счетчик будет равен нулю.

1. Считываем строку из консоли и сохраняем в переменную input.
2. Создадим метод `isFormulaValid` (методы возвращающие тип boolean принято начинать не get, а с is, как бы задавая вопрос), возвращать он будет `true` или `false`, а входным параметром будет строка (формулу которую ввели).
3. В методе создадим переменную (счетчик) типа `int` назовем ее `counter`, он будет отвечать за подсчет открытых и закрытых скобок, так же явно укажем что она равна нулю (`int counter = 0`).
4. Нам нужно перебрать всю строку, нам известно как взять длину строки `input.length` - метод вернет нам количество символов, на основе этих данных пишем цикл посимвольного обхода строки:

   ```
   for (int i = 0; i < input.length; i++) {
      //TODO
   }
   ```
5. Чтобы взять символ строки, нужно обратить к строке, вызвать метод `charAt`, который принимает на вход `index` символа (напомню, что индексы в строках и массивах начинаются с 0).
6. Вмеcто `//TODO` добавляем 

   ```
   char c = input.charAt(i);
   if (c == '(') {
   
       //если нашли открывающую скобку, увеличиваем счетик
       counter++;
   } else {
   
       //если нашли закрывающую скобку, уменьшаем счетик
       counter--;
   }
   ```
   
7. Результатом выполнения нашего метода `isFormulaValid` будет сравнение counter c нулем. Можно записать как `return counter == 0`.
8. Осталось проверить и вызвать наш метод в методе `main`.
9. Результат выполнения можно вывести через `System.out.println(checkFormula(input));`.

---

## Инструкция по выполнению домашнего задания:

## Инструкция по выполнению домашнего задания:

1. Зарегистрируйтесь на сайте [Repl.IT](https://repl.it/).
2. Перейдите в раздел **my repls**.
3. Нажмите кнопку **Start coding now!**, если приступаете впервые, или **New Repl**, если у вас уже есть работы.
4. В списке языков выберите `Java`.
5. Код пишите в левой части окна.
6. Посмотреть результат выполнения файла можно, нажав на кнопку **Run**. Результат появится в правой части окна.
7. После окончания работы нажмите кнопку **Share** и скопируйте ссылку из поля _Share link_.
8. В личном кабинете на сайте [netology.ru](http://netology.ru/) в поле комментария к домашней работе вставьте скопированную ссылку и отправьте работу на проверку.

_Никаких файлов прикреплять не нужно._
